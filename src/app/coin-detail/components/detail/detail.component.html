<div class="max-w-6xl mx-auto p-4 space-y-6">
  <!-- NAV / back -->
  <!-- <div class="flex items-center justify-between">
    <a (click)="back()" class="text-l font-semibold opacity-80 hover:opacity-100">← Volver</a>
  </div> -->
<div class="flex items-center justify-between">
  <a (click)="back()" class="inline-flex items-center gap-3 px-5 py-3 text-base font-semibold text-indigo-700 bg-indigo-50 rounded-xl hover:bg-indigo-100 hover:text-indigo-800 transition-all duration-300 ease-in-out cursor-pointer group border border-indigo-200 hover:border-indigo-300 shadow-sm hover:shadow-md">
    <span class="text-xl transition-all duration-300 group-hover:-translate-x-1.5">←</span>
    Volver atrás
  </a>
</div>
  <!-- Header: logo + nombre + métricas -->
  @if (coin(); as c) {
    <section class="flex gap-4 items-center">
      <img
        [src]="c.image?.small || c.image?.large"
        class="rounded-xl"
        alt="{{ c.name }} logo"
      />
      <div>
        <h1 class="text-2xl font-semibold">
          {{ c.name }}
          <span class="uppercase text-gray-500">({{ c.symbol }})</span>
        </h1>
        <p class="text-sm text-gray-400">
          Precio:
          <strong>
            {{ c.market_data.current_price[vsCurrency()] | currency:(vsCurrency()==='ars'?'ARS':'USD'):'symbol':'1.0-2' }}
          </strong>
          · 24h:
          <span
            [class.text-emerald-500]="(c.market_data.price_change_percentage_24h ?? 0) >= 0"
            [class.text-rose-500]="(c.market_data.price_change_percentage_24h ?? 0) < 0"
          >
            {{ c.market_data.price_change_percentage_24h | number:'1.2-2' }}%
          </span>
        </p>
        <div class="text-xs text-gray-400 mt-1">
          MC:
          {{ c.market_data.market_cap[vsCurrency()] | currency:(vsCurrency()==='ars'?'ARS':'USD'):'symbol':'1.0-0' }}
          · Vol:
          {{ c.market_data.total_volume[vsCurrency()] | currency:(vsCurrency()==='ars'?'ARS':'USD'):'symbol':'1.0-0' }}
        </div>
      </div>
    </section>
  } @else {
    <div class="h-20 rounded-xl border border-gray-700 animate-pulse"></div>
  }
 
  <!-- Contenedor principal -->
  <div class="grid md:grid-cols-2 gap-6">
    <!-- Gráfico -->
    <section class="rounded-2xl border border-gray-700 p-4">
      <div class="flex items-center justify-between mb-3">
        <h2 class="font-medium">Gráfico de variación</h2>
        <div class="flex gap-1">
        </div>
      </div>
      <h4>PROXIMAMENTE GRAFICO CON VARIACION DE PRECIOS!!</h4>
      
      <div class="h-[320px]">
      </div>
    </section>
 
    <!-- Conversor -->
    <section class="rounded-2xl border border-gray-700 p-4">
      <h2 class="font-medium mb-3">Conversor</h2>
      <div class="flex items-center gap-3">
        <div class="flex-1">
          <label class="text-xs text-gray-400 block mb-1">
            {{ coinToFiat() ? (coin()?.symbol?.toUpperCase() || 'COIN') : (vsCurrency()==='ars' ? 'ARS' : 'USD') }}
          </label>
          <input
            type="number"
            class="w-full rounded-xl bg-transparent border border-gray-700 px-3 py-2"
            [ngModel]="amount()"
            (ngModelChange)="amount.set($event)"
            min="0"
            step="any"
          />
        </div>
 
        <button
          class="rounded-full border border-gray-700 px-3 py-2"
          (click)="swap()"
          title="Invertir dirección"
        >
          ⇄
        </button>
 
        <div class="flex-1">
          <label class="text-xs text-gray-400 block mb-1">
            {{ coinToFiat() ? (vsCurrency()==='ars' ? 'ARS' : 'USD') : (coin()?.symbol?.toUpperCase() || 'COIN') }}
          </label>
          <div class="w-full rounded-xl border border-gray-700 px-3 py-2">
            @if (coinToFiat()) {
              {{ converted() | currency:(vsCurrency()==='ars'?'ARS':'USD'):'symbol':'1.2-2' }}
            } @else {
              {{ converted() | number:'1.6-6' }}
            }
          </div>
        </div>
      </div>
 
      <p class="text-xs text-gray-400 mt-2">
        Toma el precio spot actual:
        <strong>
          {{ priceNow() | currency:(vsCurrency()==='ars'?'ARS':'USD'):'symbol':'1.2-2' }}
        </strong>
      </p>
    </section>
  </div>
</div>